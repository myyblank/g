<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>简易计算器</title>
	<style>
	table{
		border-collapse: collapse;
		margin: auto auto;
	}
	td{
		width: 150px;
		line-height: 10px;
	}
	.btn{
		width: 150px;
		line-height: 70px;
		font-size: x-large;
	}
	.btn_click{
		width: 302px;
		line-height: 70px;
		font-size: x-large;
	}
	.txt{
		width: 600px;
		line-height: 100px;
		font-size: x-large;
		text-align: right;
	}
		
	</style>
	</head>
	<body>
	 <table>
      <tr>
          <td colspan="4"><input class="txt" type="text" disabled/></td>
      </tr>
      <tr>
          <td colspan="2"><input class="btn_click" type="button" value="AC"/></td>
          <td colspan="2"><input class="btn_click"  type="button" value="DEL"/></td>
      </tr>
      <tr>
          <td><input class="btn" type="button" value="7"/></td>
          <td><input class="btn" type="button" value="8"/></td>
          <td><input class="btn" type="button" value="9"/></td>
          <td><input class="btn" type="button" value="*"/></td>

      </tr>
      <tr>
          <td><input class="btn" type="button" value="4"/></td>
          <td><input class="btn" type="button" value="5"/></td>
          <td><input class="btn" type="button" value="6"/></td>
          <td><input class="btn" type="button" value="/"/></td>

      </tr>
      <tr>
          <td><input class="btn" type="button" value="1"/></td>
          <td><input class="btn" type="button" value="2"/></td>
          <td><input class="btn" type="button" value="3"/></td>
          <td><input class="btn" type="button" value="-"/></td>

      </tr>
      <tr>
          <td><input class="btn" type="button" value="0"/></td>
          <td><input class="btn" type="button" value="."/></td>
          <td><input class="btn" type="button" value="+"/></td>
          <td><input class="btn" type="button" value="="/></td>

      </tr>

</table>	
   <script type="text/javascript">
   	window.onload = function(){
   		var way_res = [];
   		var btn_txt = document.getElementsByClassName('btn');
   		var txt = document.getElementsByClassName('txt')[0];
   		var btn_way = document.getElementsByClassName('btn_click');
   		//如果按了AC和DEL键
   		for(var i = 0;i < btn_way.length;i++){
   			btn_way[i].onclick = function(){
   				if(this.value=='AC'){
   					way_res = [];
   					txt.value = '';
   				}else{
   					txt.value = txt.value.substr(0,txt.value.length-1);
   				}
   			}
   		}
   		//按了数字和运算键
   		for(var i = 0;i < btn_txt.length;i++){
   			btn_txt[i].onclick = function(){
   				if(txt.value == ''&&this.value == '.'){  //判断屏幕里是空的，而且按下的是小数点
   					txt.value = '0.';
   				}else{
   					if(!isNaN(this.value) || this.value == '.'){  //判断如果按下的不是数字或者按下的是小数点
   						if(txt.value.indexOf('.') != -1){  //判断屏幕里是否有小数点，如果有
   							if(this.value != '.'){  //按下的不是小数点就把按下的加载屏幕数字末尾
   								txt.value += this.value;
   							}
   						}else{  //屏幕里没有小数点，就把按下的加载屏幕数字末尾
   							txt.value += this.value;
   						}
   					}else{  //按下的是数字或不是小数点，
   						if(this.value !='='){  //按下的不是等号，即按下的是+-*、，把屏幕里的数字和按下的分别添加到数组里，并清空屏幕
   							 way_res[way_res.length] = txt.value;
                            way_res[way_res.length] = this.value;
                            txt.value = "";  
   						}else{ //按下的是=号，把数组转换成字符串，并且运算把结果显示在屏幕上，之后清空数组
   							way_res[way_res.length] = txt.value;
                            txt.value = eval(way_res.join(""));
                            way_res = [];
   						}
   					}
   				}
   			}
   		}	
   	}
   	
  </script>
</body>
</html>
